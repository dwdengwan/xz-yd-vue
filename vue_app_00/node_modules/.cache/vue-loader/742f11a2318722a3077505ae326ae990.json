{"remainingRequest":"C:\\xampp\\htdocs\\VueUI\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\VueUI\\vue_app_00\\src\\components\\goods\\GoodsInfo.vue?vue&type=custom&index=0&blockType=swiper-box&%3Alist=list","dependencies":[{"path":"C:\\xampp\\htdocs\\VueUI\\vue_app_00\\src\\components\\goods\\GoodsInfo.vue","mtime":1546497193389},{"path":"C:\\xampp\\htdocs\\VueUI\\vue_app_00\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"C:\\xampp\\htdocs\\VueUI\\vue_app_00\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n        <div class=\"mui-card-headerswiper-box\">\n        <div class=\"mui-card\">\n            {{info.name}}\n        </div>\n        <div class=\"mui-card-content\">\n            <div class=\"mui-card-inner\">\n                <div class=\"price\">\n                    <del>市场价：{{info.pr\n                       ice}}</del>\n                       销售价：<span class=\"now\">{{(info.price*0.8).toFixed(2)}}</span>\n                </div>\n                购买数量:\n                <div class=\"mui-numbox\" data-numbox-min='1' data-numbox-max='9'>\n                <button class=\"mui-btn mui-btn-numbox-minus\" type=\"button\" @click=\"goodsSub\">-</button>\n                <input id=\"test\" class=\"mui-input-numbox\" type=\"number\" value=\"1\" v-model=\"val\"/>\n                <button class=\"mui-btn mui-btn-numbox-plus\" type=\"button\" @click=\"goodsAdd\">+</button>\n                </div>\n            </div>\n        </div>\n        <div class=\"mui-card-footer\">\n            <mt-button size=\"small\" type=\"primary\">立即购买</mt-button>\n            <mt-button size=\"small\" type=\"primary\" @click=\"addCart\">加入购物车</mt-button>\n        </div>\n    </div>\n    </div>\n</template>\n<script>\n    import swiper from '../sub/swiper.vue';\n    import {Toast} from \"mint-ui\";\n    export default{\n        components:{\n            \"swiper-box\":swiper\n        },\n        data(){\n            return {\n                id:this.$route.params.id,\n                list:[],\n                val:1,\n                info:{},\n            }\n        },\n        created(){\n            this.getImageList();//轮播图\n            // console.log(\"list组件参数:\"+this.id);\n            this.getGoodsInfo();//商品信息\n        },\n        methods: {\n            getGoodsInfo(){\n                var id=this.id;\n                // 1.获取参数id\n                var url=\"http://127.0.0.1:3000/\";\n                url+=\"getProduct?id=\"+id;\n                // 2.发送ajax请求请求获取商品信息\n                this.axios.get(url).then(result=>{\n                    // console.log(result);\n                    this.info=result.data.data;\n                })\n                // 3.保存显示模板\n            },\n            addCart(){\n                //uid 当前用户登录id\n                //1.获取参数uid=1,pid count price\n                var uid=1;\n                var pid=this.id;\n                var count=this.val;\n                var price=99;\n                //2.发送ajax请求将数据发送到服务器\n                // var url=\"http://127.0.0.1:3000/\";\n                // url+=\"addCart?uid=1&pid=\"+pid;\n                // url+=\"&count=\"+count+\"&price=\"+price;\n                var url=\"http://127.0.0.1:3000/addCart\"\n                this.axios.get(url,{\n                    params:{uid,pid,count,price}\n                }).then(result=>{\n                    // console.log(result);\n                    if(result.data.code>0)\n                    Toast(result.data.msg);\n                    else Toast(result.data.msg);\n                })\n                //3.返回结果\n                //4.显示提示消息\n\n            },\n            getImageList(){\n                var url=\"http://127.0.0.1:3000/getImages\";\n                this.axios.get(url).then(result=>{\n                    console.log(result.data);\n                    this.list=result.data;\n                    // console.log(this.list);\n                })\n            },\n            goodsSub(){\n                if(this.val>1)\n                this.val--;\n            },\n            goodsAdd(){\n                if(this.val<=998)\n                this.val++;\n            }\n        },\n    }\n</script>\n<style></style>",null]}